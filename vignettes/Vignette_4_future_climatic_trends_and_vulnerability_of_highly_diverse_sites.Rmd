---
tittle: Exploring environmental drivers of species diversity in sharks
author: I. Montero-Serra
date: 5/AUG/2018
output: html_document
---

# Future climatic trends and vulnerability of biodiversity hotspots

This document describes how to use rOceans for accessing future trends in environmental drivers and link them to hotspots of species diversity in the marine realm Here we show an example for sharks of family Carcharhinidae.  

Download rOceans from GitHub and load the package

```{r, results = "hide", warning = FALSE,  message = FALSE}
devtools::install_github("monteroserra/rOceans")
library(rOceans)

```

First, we need to access the data and compute species diversity

For simplicity, we provide the dataset "Carcharhinidae_total_checked" which is the output obtained using *oceanDataCheck()* applied to raw datasets from OBIS and GBIF (see vignette 1 with Acropora example for more details on checking and filtering raw data)

```{r,results = "hide", warning = FALSE,  message = FALSE}
data(Carcharhinidae_total_checked)

Carcharhinidae_diversity = oceanDiversity(occurrences = Carcharhinidae_total_checked, print=F)

```

```{r,results = "hide", warning = FALSE,  message = FALSE}
rOceans::oceanHotspots(biodiversity_grid = Carcharhinidae_diversity[[3]],
              map_hotspots =T)

```

Accessing and computing future warming trends  using *oceanFuture()*
```{r,results = "hide", warning = FALSE,  message = FALSE}
SST_2100_RCP8.5 = oceanFuture(IPCC_scenario = "RCP85")
SST_2100_RCP4.5 = oceanFuture(IPCC_scenario = "RCP45")
SST_2100_RCP2.5 = oceanFuture(IPCC_scenario = "RCP26")
```

Accessing other environemntal drivers: maximum chlorophile concentration

```{r,results = "hide", warning = FALSE,  message = FALSE}

ChlMax_2100_RCP8.5 = oceanFuture(env_parameter = "BO2_chlomax_bdmax")

```

Linking them to biodiversity hotspots to explore future vulnerability
```{r,results = "hide", warning = FALSE,  message = FALSE}

oceanVulnerab(biodiversity_grid = Carcharhinidae_diversity[[3]])

```

